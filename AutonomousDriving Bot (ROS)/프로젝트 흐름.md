## 우리의 프로젝트 흐름

**ROS**

(다양한 라이브러리를 제공하여 개발 시간을 단축시켜준다.)

-> ROS 시스템을 기반으로 로봇의 여러 센서로부터 데이터를 받아 제어하였다.

​    

**SLAM**

-> G-mapping 방식을 사용하여, 주행할 트랙의 **지도를 그리고** 이를 바탕으로 **로봇의 현재 위치를 스스로 파악**하여 자율주행을 가능하게 하였다.

@ 실제로 지도를 그리기 전에, teleop코드로 터틀봇을 조종시켜보면, 터틀봇 스스로가 현재 자기 자신의 위치를 파악하며 지나다니면서 지도를 그리는 모습을 확인할 수 있다.

​    

모든 센서들은 OpenCR과 연결되어 있고

OpenCR과 연결된 라즈베리파이에서 ROS시스템을 통해 각 센서들의 데이터를 전달받거나 동작 명령을 내릴 수 있다.

​    

---

## 프로젝트 흐름

[메뉴얼](https://emanual.robotis.com/docs/en/platform/turtlebot3/quick-start/#pc-setup)

​    

Remote PC                                                                                          /   Robot PC

=교육장pc                                                                                            /  =터틀봇 라즈베리파이

개인노트북은 윈도우 기반-> 따라서 ROS를 설치하기 매우 힘들었음 /

#

​    

1. ROS 설치

   다양한 OS환경에 ROS 얹기 시도

   ​    

   1. **Ubuntu 18.04 + ROS1** (멜로딕 or 키네틱? 본인 부분) -> 우분투 X

      조사결과를 바탕으로 ROS는 리눅스 체제의 OS와 호환이 잘 될거란 판단이 들어 우분투를 깔고 그 위에 ROS얹기를 진행해보았다. 
   
      *많은 이들이 Ubuntu 16.04 MATE + Kinetic으로 해서 매끄럽게 구동되었다고 해서 16.04를 찾아보았으나 Ubuntu 18.04 혹은 20.04 밖에 지원을 하지 않아* (나머지 한사람 16.04 비공식적 파일로 구해 시도했지만 난항, 본인은 18.04 시도->아래내용!)
   
      kinetic이 설치가 되지만 **가장 많이 막힌 부분은 package를 설치하는 부분**이었다. packages의 경우 약 200개의 package가 한꺼번에 설치되지만, **항상 gmapping에서 막혀서 설치가 번번이 좌절되었다.** 이를 극복하기 위해 구글링을 통해 다양한 방법을 강구해봤지만 끝내 이 한계를 넘어설 수 없었다. 
   
   ​    
   
   2. **Windows 10 + ROS1** -> 윈도우 X
   
      보통 이 경우는 사례가 많이 없어서 난항을 많이 겪었다. 정품을 구매하는 것도 무리였고.. sd카드에 복사해서 했는데도 일단 안됐었음.
   
   ​    
   
   3. **Raspbian + ROS1** -> 라즈비안 O 채택
   
      Kinetic에서 계속 여러 에러가 나서 Melodic으로 바꿔 진행.
   
      ​     
   
      Melodic의 경우 아래와 같이 Package를 설치할 때 에러가 난다. 
   
      sudo apt-get install libogre-1.9-dev 
   
      이 코드를 실행하면 약 180개의 package가 일괄적으로 설치되는데, 하나의 패키지가 설치된 다음에야 다음 패키지로 넘어가서 설치가 진행된다. 그런데, robot_navagation패키지에 계속 문제가 생겨서 구글링을 통해 적절한 해답을 찾기를 시도했다. 사실상 모든 경우의 수를 다 동원한 후에 이 문제를 해결하여 ROS설치가 비로소 가능했고, ROS개발로 프로젝트가 이어질 수 있었다.
   
      
   
   결국 **라즈비안 + ROS1** 방식/ **Melodic**으로 진행
   
   ​    

#

2. 네트워크 설정 및 통신환경 구축

   Remote PC와 터틀봇을 제어하는 라즈베리파이는 같은 라우터의 네트워크를 공유해

   야 한다. 그래서 공유기를 통해 Remote PC와 터틀봇이 같은 네트워크를 사용하도록

   하였고 SSH 통신 설정을 하였다.

   

   Remote PC(교육장 PC)를 WIFI로 수신하게 만드는 일 필요

   -> 무선랜카드/ 공유기 사용해서 같은 라우터에 들게 만듬!

   (무선랜카드: 와이파이를 사용할 수 없는 컴퓨터에서 와이파이를 사용할 수 있도록 도와주는 부품)

   (공유기: 여러 컴퓨터가 하나의 인터넷 라인을 공유해 동시에 인터넷을 사용할 수 있게 만드는 기기)

   

   이렇게 같은 라우터 안에 넣어놨으니 SSH 통신을 구현.

   환경설정 완료.

